<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=description content><meta name=keywords content="syntax,filtered answer options,@optioncode,@current"><meta property="og:url" content="https://docs.mysurvey.solutions/syntax-guide/questions/syntax-guide-filtered-answer-options/"><meta property="og:site_name" content="Survey Solutions | Documentation"><meta property="og:title" content="Syntax Guide: Filtered Answer Options"><meta property="og:description" content="For categorical single select and multi-select questions, Survey Solutions allows you to filter the answer options so that not all the answer options for the question will be displayed to the interviewer. Filtering answer options can help improve data quality so that an interviewer cannot select answer options that are either impossible or highly unlikely. For example, for a question where the interviewer has to select the household member’s father, you can filter the answer options so that anyone that is younger than the household member will not be displayed."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="syntax-guide"><meta property="article:published_time" content="2016-12-02T19:28:38+00:00"><meta property="article:modified_time" content="2016-12-02T19:28:38+00:00"><meta property="og:image" content="https://docs.mysurvey.solutions/img/logo.png"><link rel=icon href=/img/favicon/favicon-support-1.png type=image/png sizes=16x16><link rel=icon href=/img/favicon/favicon-support-1-48-win-ico.png type=image/png sizes=48x48><link rel=icon href=/img/favicon/favicon-support-1-158-General-use-iOS-Android.png type=image/png sizes=152x152><link rel=icon href=/img/favicon/favicon-support-1-196-Chrome-for-Android.png type=image/png sizes=196x196><link rel=icon href=/img/favicon/favicon-support-1-558-win10-tile.png type=image/png sizes=558x558><title>Syntax Guide: Filtered Answer Options</title><link rel=stylesheet href=https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css integrity=sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T crossorigin=anonymous><link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700,900&amp;subset=cyrillic,cyrillic-ext,greek,greek-ext,latin-ext,vietnamese" rel=stylesheet><link href=/css/all.css rel=stylesheet><link href=https://cdnjs.cloudflare.com/ajax/libs/ekko-lightbox/5.3.0/ekko-lightbox.css rel=stylesheet></head><body><header class="px-md-3 pt-3"><div class=container><div class=row><div class="mb-3 col-lg-6 col-md-12"><a class="navbar-brand text-white pr-0 mr-0 float-left" href=https://mysurvey.solutions/ target=_blank><img src=/img/logo.png alt="Survey Solutions" class=float-left>
<span class="float-left ml-2">Survey<br>Solutions</span>
</a><a class="navbar-text text-white pl-sm-4 ml-sm-4 pl-2 ml-2 float-left" href=https://docs.mysurvey.solutions/>Documentation and knowledge base</a></div><script type=text/template id=my-custom-menu-template>
    <div class="aa">
        <ul class="nav nav-tabs" id="myTab" role="tablist">
            <li class="nav-item">
                <a class="nav-link active" id="docs-tab" data-toggle="tab" href="#docs" role="tab" aria-controls="docs" aria-selected="true">Articles</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" id="forum-tab" data-toggle="tab" href="#forum" role="tab" aria-controls="forum" aria-selected="false">Forum topics</a>
            </li>
        </ul>
        <div class="tab-content">
            <div class="aa-dataset-docs tab-pane fade show active" id="docs" role="tabpanel" aria-labelledby="docs-tab"></div>
            <div class="aa-dataset-forum tab-pane fade" id="forum" role="tabpanel" aria-labelledby="forum-tab"></div>
        </div>
    </div>
</script><div class="col-lg-6 col-md-12 pt-2 mb-4 mb-lg-3"><form class=form-inline onsubmit=return!1><div class="input-group search"><input type=text class="form-control w-100" placeholder="Have a Question? Ask or enter a search term here." id=aa-search-input></div></form></div></div></div></header><main class="container mb-3"><nav aria-label=breadcrumb><ol class="breadcrumb bg-transparent pl-0"><li class=breadcrumb-item><a href=/>Home</a></li><li class=breadcrumb-item><a href=/syntax-guide/>Syntax Guide</a></li><li class=breadcrumb-item><a href=/syntax-guide/questions/>Questions</a></li><li class="breadcrumb-item active" aria-current=page>Syntax Guide: Filtered Answer Options</li></ol></nav><div class=mb-4><article class="article d-block w-100"><div class="mb-5 pb-1 d-block w-100 page-title d-flex align-items-end"><h2 class="mb-3 mr-auto pr-3">Syntax Guide: Filtered Answer Options</h2><div class="data text-right">December 2, 2016</div></div><div class=article-content><p>For categorical <a href=/questionnaire-designer/categorical-single-select-question>single
select</a> and
<a href=/questionnaire-designer/categorical-multi-select-question>multi-select</a>
questions, Survey Solutions allows you to filter the answer options so
that not all the answer options for the question will be displayed to
the interviewer. Filtering answer options can help improve data quality
so that an interviewer cannot select answer options that are either
impossible or highly unlikely. For example, for a question where the
interviewer has to select the household member&rsquo;s father, you can filter
the answer options so that anyone that is younger than the household
member will not be displayed.<br> </p><h2 id=using-filtered-answer-options>Using filtered answer options</h2><p>You can define a filter to describe the conditions under which answer
options will be displayed to the interviewer via the Filter field.
Linked questions can also include a filter. In food consumption modules,
questionnaire designers can limit answer options to those that make
sense for each food item (e.g., weight units for solids, volume units
for liquids). In demographic modules, you can filter a linked question
that lists potential owners of the household’s dwelling to the set of
age relevant household members.<br>The Filter field contains a condition that is evaluated against each
potential answer option. When the condition is true for a particular
answer option, that answer option is displayed. When the condition is
false (or yields an exception), that option is not displayed in
Interviewer. In other words, the feature functions like an enabling
condition for answer options, enabling only those answer options that
satisfy the filter condition.<br> </p><h2 id=syntax>Syntax</h2><p>There are also two <a href=/syntax-guide/syntax-guide-system-generated-variables>system generated
variables</a> that
are only available in the Filter field. For non-linked questions, the
keyword
<a href=/syntax-guide/syntax-guide-system-generated-variables>@optioncode</a>
provides a way to refer to the answer options for the current question.
For linked questions, the keyword
<a href=/syntax-guide/syntax-guide-system-generated-variables>@current</a>, used
as a variable prefix, allows you to differentiate between the value of a
variable for current roster row and that for all other rows in the
current roster.<br> </p><h2 id=example>Example</h2><p>A question asks the interviewer to select the member in the household is
the respondent&rsquo;s mother. For this, you would want to filter the
household members according to the following criteria:</p><ul><li>Do not show the current person</li><li>Only show household members that are female</li><li>Only show household members that are at least 10 years older than
the household member currently being interviewed</li></ul><p>This question is a single select linked to the household roster. For
this example, assume that the variable for the gender of the household
member is <em>gender</em> and for age is <em>age</em>. You would write the filter for
the answer options to look like this:</p><pre><code>/* Filtered answer options feature */
// Show only females
gender==2 &amp;&amp;
// Cannot select his/herself as mother
@current.@rowcode!=@rowcode &amp;&amp;
// And person's age is 10 years older than current person's age
age &gt;= (@current.age + 10)
</code></pre><p>To see an example of this code in the public questionnaire, see this
<a href=https://designer.mysurvey.solutions/questionnaire/details/116bba6b43e247048a45d88f3ca3b4a8>question</a>.</p></div></article></div></main><footer class="footer pt-3 pb-1 px-sm-3 px-lg-0"><div class="container copyright"><div class=float-left>&#169; 2016-2025 The World Bank Group.<br>All rights Reserved. <a href=https://www.worldbank.org/en/about/legal _target=blank>Legal</a><br><a class=text-primary href=/about/ _target=blank><b class=text-primary>About the team</b></a>
<a class=text-primary href=https://www.capterra.com/p/153927/Survey-Solutions/ target=_blank>Testimonials</a></div></div></footer><script src=https://code.jquery.com/jquery-3.3.1.min.js integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin=anonymous></script><script src=https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js integrity=sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js></script><script src=https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.min.js></script><script src=/js/asearch.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/ekko-lightbox/5.3.0/ekko-lightbox.min.js></script><script>$(document).on("click",'[data-toggle="lightbox"]',function(e){e.preventDefault(),$(this).ekkoLightbox({alwaysShowClose:!0})})</script></body></html>