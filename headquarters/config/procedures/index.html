<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=description content><meta name=keywords content="support,service,maintenance,testing,error,troubleshooting"><meta property="og:url" content="https://docs.mysurvey.solutions/headquarters/config/procedures/"><meta property="og:site_name" content="Survey Solutions | Documentation"><meta property="og:title" content="Procedures for maintenance"><meta property="og:description" content="This page contains an outline of procedures that you may need to perform as instructed by developers. Please, pay attention to the steps and record the values and messages as instructed.
PROCEDURE B1 On the tablet:
Make sure you are logged out of the Interviewer application. Reboot the tablet. Start the Interviewer App. Log in as interviewer, Send to the person providing assistance (see bullets 3, 4, and 6 here): the interviewer trace logs, all tablet information, and all technical information. Interviewer trace logs shall be picked by the server administrator by visiting the corresponding server administration page: device logs."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="headquarters"><meta property="article:published_time" content="2021-01-06T00:00:00+00:00"><meta property="article:modified_time" content="2025-04-15T18:40:06-04:00"><meta property="og:image" content="https://docs.mysurvey.solutions/img/logo.png"><link rel=icon href=/img/favicon/favicon-support-1.png type=image/png sizes=16x16><link rel=icon href=/img/favicon/favicon-support-1-48-win-ico.png type=image/png sizes=48x48><link rel=icon href=/img/favicon/favicon-support-1-158-General-use-iOS-Android.png type=image/png sizes=152x152><link rel=icon href=/img/favicon/favicon-support-1-196-Chrome-for-Android.png type=image/png sizes=196x196><link rel=icon href=/img/favicon/favicon-support-1-558-win10-tile.png type=image/png sizes=558x558><title>Procedures for maintenance</title><link rel=stylesheet href=https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css integrity=sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T crossorigin=anonymous><link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700,900&amp;subset=cyrillic,cyrillic-ext,greek,greek-ext,latin-ext,vietnamese" rel=stylesheet><link href=/css/all.css rel=stylesheet><link href=https://cdnjs.cloudflare.com/ajax/libs/ekko-lightbox/5.3.0/ekko-lightbox.css rel=stylesheet></head><body><header class="px-md-3 pt-3"><div class=container><div class=row><div class="mb-3 col-lg-6 col-md-12"><a class="navbar-brand text-white pr-0 mr-0 float-left" href=https://mysurvey.solutions/ target=_blank><img src=/img/logo.png alt="Survey Solutions" class=float-left>
<span class="float-left ml-2">Survey<br>Solutions</span>
</a><a class="navbar-text text-white pl-sm-4 ml-sm-4 pl-2 ml-2 float-left" href=https://docs.mysurvey.solutions/>Documentation and knowledge base</a></div><script type=text/template id=my-custom-menu-template>
    <div class="aa">
        <ul class="nav nav-tabs" id="myTab" role="tablist">
            <li class="nav-item">
                <a class="nav-link active" id="docs-tab" data-toggle="tab" href="#docs" role="tab" aria-controls="docs" aria-selected="true">Articles</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" id="forum-tab" data-toggle="tab" href="#forum" role="tab" aria-controls="forum" aria-selected="false">Forum topics</a>
            </li>
        </ul>
        <div class="tab-content">
            <div class="aa-dataset-docs tab-pane fade show active" id="docs" role="tabpanel" aria-labelledby="docs-tab"></div>
            <div class="aa-dataset-forum tab-pane fade" id="forum" role="tabpanel" aria-labelledby="forum-tab"></div>
        </div>
    </div>
</script><div class="col-lg-6 col-md-12 pt-2 mb-4 mb-lg-3"><form class=form-inline onsubmit=return!1><div class="input-group search"><input type=text class="form-control w-100" placeholder="Have a Question? Ask or enter a search term here." id=aa-search-input></div></form></div></div></div></header><main class="container mb-3"><nav aria-label=breadcrumb><ol class="breadcrumb bg-transparent pl-0"><li class=breadcrumb-item><a href=/>Home</a></li><li class=breadcrumb-item><a href=/headquarters/>Headquarters</a></li><li class=breadcrumb-item><a href=/headquarters/config/>Setup and Configuration</a></li><li class="breadcrumb-item active" aria-current=page>Procedures for maintenance</li></ol></nav><div class=mb-4><article class="article d-block w-100"><div class="mb-5 pb-1 d-block w-100 page-title d-flex align-items-end"><h2 class="mb-3 mr-auto pr-3">Procedures for maintenance</h2><div class="data text-right">April 15, 2025</div></div><div class=article-content><p>This page contains an outline of procedures that you may need to perform as instructed by developers. Please, pay attention to the steps and record the values and messages as instructed.</p><h1 id=procedure-b1><a name=B1></a>PROCEDURE B1</h1><p>On the tablet:</p><ol><li>Make sure you are logged out of the Interviewer application.</li><li>Reboot the tablet.</li><li>Start the Interviewer App.</li><li>Log in as interviewer,</li><li>Send to the person providing assistance (see bullets 3, 4, and 6 <a href=/interviewer/troubleshooting/interviewer-app-diagnostics/>here</a>):</li></ol><ul><li>the interviewer trace logs,</li><li>all tablet information, and</li><li>all technical information.</li></ul><p>Interviewer trace logs shall be picked by the server administrator by visiting the corresponding server administration page: <a href=/headquarters/config/device-logs/>device logs</a>.</p><p>Tablet information packages shall be picked by the server administrator by
visiting the corresponding server administration page:
<code>Menu</code> → <code>Administration</code> → <code>Tablet information packages</code>
and clicking on the download icon for the corresponding package.</p><p>Technical information is sent via any of the means set up on the tablet, which could be an email, messenger, saving as text or otherwise transfer to the station where the output of <a href=#B1>Procedure B1</a> is being collected for sending to the person providing assistance.</p><p>END OF PROCEDURE B1</p><hr><h1 id=procedure-b2><a name=B2></a>PROCEDURE B2.</h1><p><a href=#B2>Procedure B2</a> shall be performed in English language. Set up your tablet (before step #6) to use English language as the main language of the interface.</p><ol><li><p>Login to the Designer.</p></li><li><p>Copy public questionnaire &ldquo;<em><strong><a href=https://designer.mysurvey.solutions/questionnaire/details/4c35966eb9204355be8172df62d7830d>Service-B2</a></strong></em>&rdquo; to obtain own copy.
Take a note of how you&rsquo;ve named this copy: ______________.</p></li><li><p>Login to your data server (as admin) and import that questionnaire copy (made in previous step).</p></li><li><p>Create a new interviewer account with any login name and password, and in any team. You can create a new team if necessary to avoid confusion of an existing supervisor. Take a note:
interviewer account login: _____________ password: ______________.</p></li><li><p>Make one assignment to that interviewer account on the questionnaire imported in #3. Take a note:
assignment id-number created: _______________.</p></li><li><p>Take a new tablet device. Connect to a WiFi internet connection which is known to be reliable and not manipulated by the ISP.</p></li><li><p>Install the Interviewer App from your data server to the tablet.</p></li><li><p>Login with the interviewer account (created in #4) and synchronize.</p></li><li><p>Make sure the assignment with the id-number recorded in #5 is received on the tablet.</p></li><li><p>a. If the assignment has not been received in #9: Do <a href=#B1>Procedure B1</a>.
STOP</p></li><li><p>b. If the assignment is received in #9: start the interview based on that assignment, take note of the interview key assigned to this interview.
Take a note of the interview key: ___ - ___ - ___ - ___.</p></li><li><p>Fill out the interview in #10b, mark as complete.</p></li><li><p>Synchronize the tablet. Make sure the synchronization was successful.</p></li><li><p>a. If synchronization does not succeed, repeat at least 10 times.</p></li></ol><p>Take a note:</p><ul><li><p>synchronization timestamp: YEAR____ MONTH_____ DAY_______ HOUR____ MINUTE____ SECONDS___ TIMEZONE_____________________ .</p></li><li><p>error messages (in full) during unsuccessful synchronization:</p></li></ul><p>_____________________________________________________________ .
_____________________________________________________________ .
_____________________________________________________________ .
_____________________________________________________________ .
_____________________________________________________________ .
_____________________________________________________________ .
_____________________________________________________________ .
_____________________________________________________________ .
_____________________________________________________________ .
_____________________________________________________________ .</p><p>If synchronization has not succeeded after 10 attempts, do Procedure B1.
STOP</p><ol start=13><li><p>b. If synchronization does succeed in step #12, continue.</p></li><li><p>Assert that the interview with interview key assigned in #10b has left the dashboard of the tablet. If it has not, do <a href=#B1>Procedure B1</a>, then STOP.</p></li><li><p>Assert that the interview with interview key assigned in #10b has been received at the server. If it has not, do <a href=#B1>Procedure B1</a>, also include server logs <a href=/headquarters/config/standalone-server-errors/>as described in #7 here</a> then STOP.</p></li><li><p>Open the interview you locate in step #14.
If there is any error message record it below:</p></li></ol><p>________________________________________________________________ .</p><p>Regardless at which step you terminated <a href=#B2>Procedure B2</a> remember to log out of the admin account at the data server afterwards.</p><p>The questionnaire that you&rsquo;ve imported to the data server at step #3 shall remain until the end of the investigation, and can be subsequently deleted.</p><p>The accounts created at step #4 cannot be deleted, but can be locked by the user that created it after completion of <a href=#B2>Procedure B2</a>.</p><p>END OF PROCEDURE B2.</p><hr><h1 id=procedure-b3><a name=B3></a>PROCEDURE B3.</h1><p>Procedure B3 shall be applied when the tablet can not communicate with the server and thus can&rsquo;t send the logs there.</p><ol><li>Turn on the tablet.</li><li>Start the Interviewer App. No need to log in.</li><li><code>Open Menu</code> → <code>Diagnostics</code></li><li>Click the link <code>Generate support package</code></li><li>Save the resulting file to the tablet storage. Take a note of the file name: ________________________ .</li><li>Switch to the tablet&rsquo;s file browser (may be called <strong>Files</strong> or otherwise, depending on the brand of the tablet and OS version).</li><li>Locate the file saved in step #5.</li><li>Send this file to the person providing support (by saving to USB flash, SD-Card, emailing, sending over Bluetooth, or any other feasible means of transfer).</li></ol><p>END OF PROCEDURE B3</p><hr><h1 id=procedure-c1><a name=C1></a>PROCEDURE C1</h1><p>This procedure is to be performed when the user obtains an unexplained error <code>403 "Forbidden"</code> while working with the data server.</p><ol><li>Open the browser&rsquo;s development console (press <code>F12</code>).</li><li>Switch to the <code>Network</code> tab.</li><li>Refresh the current page (press <code>F5</code>) on which <code>error 403</code> was obtained.</li><li>Select the page document in the <code>Name</code> tab.</li><li>Check the <code>server</code> parameter in the <code>Response headers</code>.</li></ol><center><a href=images/header_correct.png><img src=images/header_correct.png></a></center><p>The proper value should mention &lsquo;<em>Microsoft-IIS</em>&rsquo; for servers hosted in Microsoft IIS on Windows or &lsquo;<em>Kestrel</em>&rsquo; for servers hosted in Docker.</p><center><a href=images/header_incorrect.png><img src=images/header_incorrect.png></a></center><p><strong>Any other <code>server</code> value in this response header is indicative of some other
device or program responding <em>instead</em> of Survey Solutions. Consult your network
administrator regarding this issue.</strong></p><p>END OF PROCEDURE C1</p><hr><h1 id=procedure-c2-checking-the-system-log><a name=C2></a>PROCEDURE C2: Checking the system log.</h1><p>This procedure is to be performed when the user seeks for evidence of server
errors not logged in the application log (applicable to Windows-based servers).</p><p>This procedure makes use of the
<a href=https://en.wikipedia.org/wiki/Event_Viewer><strong>Event Viewer</strong></a>, which is part of
MS Windows operating system.</p><center><a href=images/event_viewer.png><img src=images/event_viewer.png></a></center><ol><li>Log in to the server experiencing the problem.</li><li>Press the <a href=https://en.wikipedia.org/wiki/Windows_key>Windows key</a>.</li><li>Type: <code>Event Viewer</code></li><li>When <em>Event Viewer</em> App is suggested, click to start it.</li><li>In the <em>Event Viewer</em> interface select <code>Windows Logs</code>, then <code>Application</code>.</li><li>Seek for the events with level <code>Error</code>. (Use timestamps as guidance to
navigate to the part of the log close to the occurance of the problem.)</li><li>When errors are found, click on each log entry and inspect the information
shown in the <code>General</code> and <code>Details</code> tabs.</li></ol><p>Subsequent troubleshooting steps will depend on the kind of errors found in the
log.</p><p>END OF PROCEDURE C2</p><hr><h1 id=procedure-m1-dropping-temporary-export-schemas><a name=M1></a>PROCEDURE M1. Dropping temporary export schemas</h1><p>The procedure below may be used in cases when the data export does not succeed,
such as when a message appears of &ldquo;<em>An unexpected error during data export&mldr;</em>&rdquo;.
Note that this message may be appearing in different situations and the below
listed procedure will not be able to resolve all of them.</p><p>Survey Solutions v23.04 and later can initiate this procedure from the web
interface, which is a more error-proof and recommended way of performing it. See
<code>Clear export cache</code> button in the
<a href=/headquarters/config/admin-settings/#clear-export-cache>workspace settings</a>.
Users of the earlier versions need to perform this procedure manually by
following the steps outlined below.</p><div class="card my-3 border-top-0 border-right-0 border-bottom-0 border-left border-warning rounded" style=border-width:4px!important><div class="wrap border border-left-0 rounded"><div class="card-header border-0 bg-white pl-3 text-warning"><h3>Warning:</h3></div><div class="card-body pt-1">When performed correctly the procedure is non-destructive, but if performed
incorrectly may result in data loss. It is best performed by a qualified person
with background in DB-management.</div></div></div><ol><li>Install pgAdmin if it is not already installed:
<a href=https://www.pgadmin.org/>https://www.pgadmin.org/</a></li><li>Stop the SurveySolutions site in IIS.</li><li>Connect to your database using the same connection string used in
installation of Survey Solutions. If you are performing maintenance on somebody
else&rsquo;s server you will find the connection string (including the database name,
user login and password) in the appsettings.ini file or inquire from the person
who has access to these settings.</li><li>Find schemas that start with <b><tt>hq_</tt></b> followed by a GUID (there
may be more than 1 such schema).
<img src=images/delete_temp_schemas.png alt="Delet temporary schemas"></li><li>Drop those schemas. If you are asked if you want cascading deletion, answer
affirmatively.</li></ol><div class="card my-3 border-top-0 border-right-0 border-bottom-0 border-left border-warning rounded" style=border-width:4px!important><div class="wrap border border-left-0 rounded"><div class="card-header border-0 bg-white pl-3 text-warning"><h3>Warning:</h3></div><div class="card-body pt-1"><p>Do not delete any other schemas, or your data will be lost.</p><p>Only delete schemas starting with <b><tt>hq_</tt></b> and ending with a
32-hexdigit GUIDs.</p></div></div></div><ol start=6><li>Restart the Survey Solutions site in IIS.</li><li>Retry the export. The first export after performing the above steps may be
considerably slower than your previous experience as the program is rebuilding
the deleted schemas from raw data. The subsequent exports will be done faster.</li></ol><p>END OF PROCEDURE M1</p></div></article></div></main><footer class="footer pt-3 pb-1 px-sm-3 px-lg-0"><div class="container copyright"><div class=float-left>&#169; 2016-2025 The World Bank Group.<br>All rights Reserved. <a href=https://www.worldbank.org/en/about/legal _target=blank>Legal</a><br><a class=text-primary href=/about/ _target=blank><b class=text-primary>About the team</b></a>
<a class=text-primary href=https://www.capterra.com/p/153927/Survey-Solutions/ target=_blank>Testimonials</a></div></div></footer><script src=https://code.jquery.com/jquery-3.3.1.min.js integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin=anonymous></script><script src=https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js integrity=sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js></script><script src=https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.min.js></script><script src=/js/asearch.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/ekko-lightbox/5.3.0/ekko-lightbox.min.js></script><script>$(document).on("click",'[data-toggle="lightbox"]',function(e){e.preventDefault(),$(this).ekkoLightbox({alwaysShowClose:!0})})</script></body></html>